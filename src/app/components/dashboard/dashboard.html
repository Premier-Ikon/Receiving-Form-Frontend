<div class="relative p-6 bg-white rounded-2xl border border-gray-200 shadow-md overflow-hidden">
  <!-- Loading overlay -->
  <div
    *ngIf="loading"
    class="absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center z-10 rounded-2xl"
  >
    <div class="text-gray-700 font-medium text-lg animate-pulse">Loading...</div>
  </div>

  <!-- Title + description -->
  <div class="mb-6">
    <h2 class="text-xl font-semibold text-gray-900">Monday.com Items</h2>
    <p class="text-sm text-gray-500">Manage receiving forms for your Monday.com board items</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="mb-4 p-4 bg-red-50 border border-red-200 rounded-lg">
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          class="w-5 h-5 text-red-600 mr-2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"
          />
        </svg>
        <p class="text-red-800 text-sm">{{ error }}</p>
      </div>
      <button
        (click)="loadItems()"
        class="text-sm text-red-600 hover:text-red-800 underline font-medium"
        aria-label="Retry"
      >
        Retry
      </button>
    </div>
  </div>

  <!-- Toolbar -->
  <div class="flex items-center justify-between mb-4">
    <div class="relative w-64">
      <input
        type="text"
        [(ngModel)]="searchQuery"
        (input)="onSearchChange()"
        placeholder="Search items..."
        class="w-full rounded-lg border border-gray-300 pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
      />
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="absolute left-3 top-2.5 h-5 w-5 text-gray-400"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z"
        />
      </svg>
    </div>
    <div class="flex space-x-2">
      <button
        class="flex items-center px-4 py-2 text-sm font-medium border rounded-lg hover:bg-gray-50 transition-colors duration-200 ease-in-out"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          class="w-5 h-5 mr-2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3 4a1 1 0 011-1h2a1 1 0 011 1v16a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM9 10h12m-6-6v12"
          />
        </svg>
        Filter
      </button>
      <button
        class="flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors duration-200 ease-in-out"
        (click)="refreshPage()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          class="w-5 h-5 mr-2"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M4 4v5h.582M20 20v-5h-.581M4 9l2.293 2.293a1 1 0 001.414 0L12 7l4.293 4.293a1 1 0 001.414 0L20 9M4 15l2.293 2.293a1 1 0 001.414 0L12 13l4.293 4.293a1 1 0 001.414 0L20 15"
          />
        </svg>
        Refresh
      </button>
    </div>
  </div>

  <!-- Table -->
  <div class="overflow-hidden rounded-2xl border border-gray-200 bg-white">
    <table class="w-full text-sm">
      <thead class="bg-gray-50 text-gray-500 uppercase text-xs font-medium">
        <tr>
          <th class="px-6 py-3 text-left">Item</th>
          <th class="px-6 py-3 text-left">Status</th>
          <th class="px-6 py-3 text-left">PDF Counts</th>
          <!-- <th class="px-6 py-3 text-left">Actions</th> -->
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <tr *ngFor="let item of filteredItems">
          <td class="px-6 py-4">
            <div class="flex items-center space-x-3">
              <div
                class="w-10 h-10 flex items-center justify-center rounded-lg bg-blue-50 text-blue-600"
              >
                <!-- Heroicon: cube -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="2"
                  stroke="currentColor"
                  class="w-6 h-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M21 16V8a2 2 0 00-1.106-1.789l-7-4a2 2 0 00-1.788 0l-7 4A2 2 0 003 8v8a2 2 0 001.106 1.789l7 4a2 2 0 001.788 0l7-4A2 2 0 0021 16z"
                  />
                </svg>
              </div>
              <div>
                <p class="font-medium text-gray-900">{{ item.name }}</p>
                <p class="text-xs text-gray-500">ID: {{ item.id }}</p>
              </div>
            </div>
          </td>
          <td class="px-6 py-4">
            <span
              [ngClass]="{
                'bg-green-100 text-green-700': item.status === 'Completed',
                'bg-yellow-100 text-yellow-700': item.status === 'Pending'
              }"
              class="px-3 py-1 rounded-full text-xs font-medium"
            >
              {{ item.status }}
            </span>
          </td>
          <td class="px-6 py-4 text-gray-900">
            {{ item.pdfCount }}
          </td>
          <!-- <td class="px-6 py-4">
            <button
              class="flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors duration-200 ease-in-out"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="w-5 h-5 mr-2"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"
                />
              </svg>
              Generate Form
            </button>
          </td> -->
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="flex justify-between items-center text-sm text-gray-500 px-6 py-4">
    <p>Showing {{ filteredItems.length }} of {{ items.length }} results</p>
  </div>
</div>
